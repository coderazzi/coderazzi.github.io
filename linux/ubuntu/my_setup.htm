<!DOCTYPE html>
<html>
<head>
    <title>Ubuntu - My setup</title>
    <link rel="stylesheet" type="text/css" href="../../css/global.css">
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
    <meta name="Keywords" content="linux, ubuntu">
    <meta name="Author" content="Luis M. Pena">

 <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
 <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@300;400;900&display=swap" rel="stylesheet">
 <link rel="stylesheet" type="text/css" href="../../css/global.css">
 <link rel="stylesheet" type="text/css" href="../../css/site.css">
 <link rel="stylesheet" type="text/css" href="../../css/menu.css">
 <meta name="Author" content="Luis M. Pena">
 <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
 <div id="container">
  <div id="menu" class="wsmMenu"><div class="navcontainer"><ul class="navlist"><li class="group"><a href="../../index.htm">Blog</a></li><li class="group"><a href="../../codeartifact-maven/index.htm">Java</a></li><li class="group"><a href="../../python/openapi4aws/index.htm">python</a></li><li class="group"><a href="../../csharp/xmlobjects/index.htm">c#</a></li><li class="group"><a href="../../javascript/dominosa/dominosa.html">javascript</a></li><li class="group"><a href="../../cloud/aws/mfa/index.html">net + cloud</a></li><li class="group"><a href="#" class="justtext">Linux</a><ul class="navlist"><li class="group"><a href="../debian/troubleshooting.htm">Debian</a></li><li class="group"><a href="../centos/centos_hostname_and_dhcp.htm">CentOS</a></li><li class="group"><a href="../../solaris/index.htm">Solaris</a></li><li class="group"><a href="#" class="justtext">Ubuntu</a><ul class="navlist"><li class="active"><a href="#">Configuration</a></li><li><a href="../../howto/kubuntu/gamma.html">Colors - gamma</a></li><li><a href="../../howto/kubuntu/multiple_monitors.html">Multiple monitors</a></li></ul></li><li class="group"><a href="../meego/nc10install.html">Meego</a></li><li class="group"><a href="../linuxaswinservice.htm">misc</a></li></ul></li><li class="group"><a href="../../misc/obsidian/obsidian.html">Misc</a></li><li class="group"><a href="../../howto/osx/nginx.html">Os X</a></li><li class="group"><a href="../../phd/index.htm">PhD</a></li><li class="group"><a href="../../books/2017/index.htm">Just words</a></li></ul></div></div>
  <div id="body" class="wsmContent">
   <div id="header"><div>&nbsp;</div></div>
   <div id="content">

        <p class="timestamp">12th April 2017<span class="timestamp_update">, updated:</span>1st Dec 2024</p>

        <h1>My own setup for Ubuntu</h1>

        <p>These are the steps I normally use to setup a Ubuntu desktop distribution,
            currently up to Noble Numbat (24.04). For previous Ubuntu distributions, see this
            previous <a href="my_setup_20_04.htm">version</a>.

        <p>My focus is to have all my linux boxes having a similar configuration and packages installed. And
            that the configuration matches as well my MacOS configurations, using same shortcuts and workflows.
            For example, I use workspaces, which I define statically in MacOS and in Linux, and define the same
            shortcuts, when possible, to use them (it is possible to switch workspaces using the same keyboard
            shortcuts, but the movement of windows between workspaces cannot be equally defined). On the other
            side, I do not switch the Alt-Cmd keys, somehow I keep good enough muscle memory to key the correct
            combinations. </p>

        <p>This setup only defines the initial installations and basic system configuration, not all the programs
            that I eventually install.</p>

        <h2>Installation</h2>

        <ul>
            <li>Choose minimal installation, without games, etc. Select the checkboxes to download
                updates during the installation and to install 3rd party software.</li>

            <li>Install basic applications from the command line:
                <pre>sudo apt install -y gnome-tweaks git gettext make dconf-editor guake vim curl exfat-fuse</pre>
            </li>
            <li>Install additional applications from the command line: JDK, virtualbox, mono:
                <pre>sudo apt install virtualbox default-jdk mono-runtime</pre>
                <pre>sudo apt install virtualbox-ext-pack</pre>
            </li>
            <li>Install applications using the AppCenter (most are snap versions):
                <ul>
                    <li>Brave</li>
                    <li>Gimp</li>
                    <li>Intellij Idea Ultimate</li>
                    <li>KeePassXC</li>
                    <li>onedrive-cli</li>
                    <li>Thunderbird</li>
                    <li>Transmission</li>
                    <li>Vivaldi</li>
                    <li>VLC</li>
                    <li>XSane</li>
                </ul>
            </li>
            <li>Install applications using their own installers / instructions:
                <ul>
                    <li><a="https: www.dropbox.com/install"="">Dropbox</a="https:></li>
                    <li><a href="https://www.sublimetext.com/3">Sublime text 3</a>. Once opened, it will ask to
                    download a new version: answer no, then enter the licence for Sublime 3, go to preferences / settings
                    and enter <b>{"update_check": false}</b> in the user settings</li>
                    <li>Truecrypt : no link offered, I have my own debian package download from safer times...</li>
                </ul>
            </li>
        </ul>

        <h2>Configuration</h2>

        <ul>

            <li><b>Desktop configuration</b>: open <b>Tweaks</b> application
                <ul>
                    <li><b>Keyboard</b>:
                        <ul>
                            <li><b>Overview Shortcut</b>: Right Super. The original, Left Super, I
                                use it better for switching workspaces, as it is done on Mac</li>
                            <li><b>Additional layout options</b>: Compatibility options: Numeric Keypad always enter digits</li>
                        </ul>
                    </li>
                </ul>
            </li>

            <li><b>Disable usage of Super + Numpad as dock favourites shortcut</b>:
                open <b>dconf-editor</b> application:
                <ul>
                    <li>Navigate to org / gnome / shell / extensions / dash-to-dock,
                        scroll down and find out line says <b>hot-keys</b>, and turn it off.</li>

                    <li>Navigate to org / gnome / shell / keybindings, remove switch-to-application 1...4:
                        Use default value: off, custom value: [''].</li>
                </ul>
            </li>

            <li><b>Disable edges tiling (windows snapping / resizing when brought to the edges)</b>:
                <ul>
                    <li>gsettings set org.gnome.mutter edge-tiling false</li>
                    <li>gsettings set org.gnome.shell.overrides edge-tiling false</li>
                </ul>
            </li>

            <li>Open <b>Settings</b> application.
                <li>Keyboard/Keyboard shortcuts<ul>
                    <li>Launchers<ul>
                        <li>Home Folder: Command + E</li>
                    </ul></li>
                    <li>Navigation<ul>
                        <li>Move window to monitor xxxx : Remove it  (4 shortcuts)</li>
                        <li>Move window one worspace to the left: Remove it</li>
                        <li>Move window one worspace to the right: Remove it</li>
                        <li>Move window to last workspace: Remove it</li>
                        <li>Move window to workspace 1: Alt Command 1</li>
                        <li>Move window to workspace 2: Alt Command 2</li>
                        <li>Move window to workspace 3: Alt Command 3</li>
                        <li>Move window to workspace 4: Alt Command 4</li>
                        <li>Switch to last workspace: Remove it</li>
                        <li>Switch to workspace on the left: Remove it</li>
                        <li>Switch to workspace on the right: Remove it</li>
                        <li>Switch to workspace 1: Command 1</li>
                        <li>Switch to workspace 2: Command 2</li>
                        <li>Switch to workspace 3: Command 3</li>
                        <li>Switch to workspace 4: Command 4</li>
                    </ul></li>
                    <li>System<ul>
                        <li>Lock Screen: Remove it</li>
                        <li>Restore the keyboard shortcuts: Remove it</li>
                    </ul></li>
                    <li>Typing<ul>
                        <li>Switch to next input source: Remove it</li>
                        <li>Switch to previous input source: Remove it</li>
                    </ul></li>
                </ul></li>
                <li>Ubuntu Desktop<ul>
                    <li>Multitasking / Active Screen Edges OFF</li>
                </ul></li>
                <li>Multitasking<ul>
                    <li>Active Screen Edges OFF</li>
                    <li>Workspaces: Fixed number of workspaces (set it to default, 4)</li>
                </ul></li>
                <li>Search: enable only Files and Calculator</li>
                <li>Power:<ul>
                    <li>Power button actionL Suspend</li>
                </ul></li>
                <li>Privacy & Security<ul>
                    <li>Automatic Screen Lock Delay: 30 minutes</li>
                </ul></li>

            <li><b>Cleanup dock</b>: remove any applications not required, like Ubuntu software, help, etc, and
                add any new ones</li>

            <li>Configure <b>Nautilus</b>
                <ul>
                    <li>Remove from Nautilus entries to Documents, Music, Pictures, Videos and Desktop:
                        Open the file <b>~/.config/user-dirs.dirs</b>, and modify all entries that should not
                        appear. For example, to have only a DOWNLOAD folder, this file should have
                        the following content (note that XDG_DESKTOP_DIR keeps its original value):
                        <pre>XDG_DOWNLOAD_DIR="$HOME/Downloads"
XDG_DESKTOP_DIR="$HOME/Desktop"
XDG_TEMPLATES_DIR="$HOME/"
XDG_PUBLICSHARE_DIR="$HOME/"
XDG_DOCUMENTS_DIR="$HOME/"
XDG_MUSIC_DIR="$HOME/"
XDG_PICTURES_DIR="$HOME/"
XDG_VIDEOS_DIR="$HOME/"</pre>
                    </li>
                    <li>Show files as list in nautilus, in small size:
                        <pre>gsettings set org.gnome.nautilus.preferences default-folder-viewer list-view
gsettings set org.gnome.nautilus.list-view default-zoom-level small</pre>
                    </li>
                    <li>It is needed to reset nautilus:
                        <pre>killall nautilus</pre>
                    </li>
                    <li>Now, when Nautilus is open again, there will be entries for Documents, Music, etc,
                        but right clicking on them shows the Remove option</li>
                </ul>
            </li>

            <li><b>Start guake at login</b>: The usual way of launching 'Startup Applications' and adding Guake is not useful: guake removes itself!
                What is needed is to start guake (usr/bin/guake), open preferences, and, in General / General, select the checkbox 'Start Guake at login'</li>

            <li>On a Mac keyboard, avoid having to press Fn to key F1 to F12:
                <pre>
    sudo -s
    echo options hid_apple fnmode=2 > /etc/modprobe.d/hid_apple.conf
    update-initramfs -u</pre>

            </li>

        </li></ul>


        <h2>SSH settings</h2>

        <p>Basically, follow these <a href="/howto/security/ssh_keys.html">instructions</a></p>
        <pre>ssh-keygen -t rsa -b 4096</pre>
        <p>Then copy the public id in the ~/.ssh/authorized_keys files of the reachable hosts.</p>

        <p>I use different keys for other services, like git. To generate any additional key with a comment</p>
        <pre>ssh-keygen -t rsa -b 4096 -f hg_id_rsa -C coderazzi@summer-git,hg</pre>

        <h2>Using onedrive</h2>

        <ul>
            <li>Execute onedrive-cli: This will require the credentials via the browser</li>
            <li>The onedrive folder is restricted, due to snap confinment, to an internal folder (~/snap/onedrive-cli/14/OneDrive)
<pre>mv ~/snap/onedrive-cli/14/OneDrive ~
echo sync_dir=/home/coderazzi/OneDrive >> /home/coderazzi/snap/onedrive-cli/current/.config/onedrive/config</pre></li>
            <li>Perform an initial synchronization
                <pre>monedrive-cli --monitor --verbose</pre></li>
            <li>Use onedrive as a service
                <ul><li>Create a file ~/.config/systemd/user/onedrive.service as
<pre>
[Unit]
Description=OneDrive Free Client
After=network-online.target
Wants=network-online.target

[Service]
ExecStart=/snap/bin/onedrive-cli --monitor
Restart=on-failure
RestartSec=3
RestartPreventExitStatus=3

[Install]
WantedBy=default.target
</pre>
                </li><li>Then:
<pre>systemctl --user start onedrive
systemctl --user enable onedrive</pre></li>
            <li>To check the status:
                <pre>journalctl --user-unit onedrive -f</pre></li>
        </ul>
    </li></ul></div>
   <div id="copyright">Copyright (c) Luis M. Pena  -  lu@coderazzi.net</div> 
  </div>
 </div>
 <script type="text/javascript" src="../../js/coderazzi.js"></script>
</body>
</html>